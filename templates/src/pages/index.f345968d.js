(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{134:function(e,t,a){"use strict";var n=a(8),c=a.n(n),l=a(47),r=a.n(l),i=a(0),s=a.n(i),o=a(135),u=a.n(o).a.sortBy(["#000000","#ffffff","#c600ff","#4fe3c1","#25d3ff","#f5c7c7","#c191e5","#4890e4","#e2013a"]),f=function(e){var t=e.setBgColor,a=u.map(function(e){return s.a.createElement("li",{className:"list-inline-item p-4 rounded",style:{backgroundColor:e},onClick:function(a){return t(e)}})});return s.a.createElement("ul",{className:"list-inline py-2 m-0"},a)},m={x:0,y:0},g=[0,0],h=[0,0],d=r()({},m),p=1;var v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==";t.a=function(e){var t=e.url,a=e.dzRef,n=e.setDZProps,l=Object(i.useRef)(null),o=Object(i.useState)(r()({},m)),u=c()(o,2),b=u[0],E=u[1],A=Object(i.useState)(r()({},m)),w=c()(A,2),y=w[0],S=w[1],x=Object(i.useState)(1),N=c()(x,2),O=N[0],j=N[1],R=Object(i.useState)([]),C=c()(R,2),k=C[0],z=C[1],P=Object(i.useState)("#ffffff"),B=c()(P,2),F=B[0],L=B[1];Object(i.useEffect)(function(){var e=r()({},m),t=1;if(l.current&&k.length){var a=l.current.getBoundingClientRect();g=[.5*a.width,.5*a.height],h=[.5*k[0],.5*k[1]];var n=[g[0]-h[0],g[1]-h[1]];e.x=n[0],e.y=n[1];var c=k[0]>a.width||k[1]>a.height,i=k[0]>=k[1];c&&(t=i?a.width/k[0]:a.height/k[1])}E(r()({},e)),S(r()({},m)),j(t),d=r()({},e),p=t},[t,k]),Object(i.useEffect)(function(){n({imgSize:k,scale:O})},[k,O,b,t,l]),Object(i.useEffect)(function(){return function(e,t){var a=e.current,n=t.setPos,c=t.setOffset,l=t.setScale,i=t.setLog;if(a){console.log("initPan");var s=new Hammer(a);s.get("pinch").set({enable:!0}),s.on("pinch pinchend",function(e){var t=e.scale,a=(e.isFinal,e.type),n=p*t;"pinchend"===a?p=n:"pinch"===a&&l(n),i({LAST_SCALE:p,scale:t,s:n,type:a})}),s.on("pan",function(e){var t=e.deltaX,a=e.deltaY,l=e.isFinal;c({x:t,y:a}),l&&(d.x=t+d.x,d.y=a+d.y,n(r()({},d)),c(r()({},m)))})}}(l,{setPos:E,setOffset:S,setScale:j,setLog:console.log})},[l]);var J=y.x+b.x,U=y.y+b.y,D="img-preview "+(y.y||y.x?"dragging":""),M={transform:"translate3d(".concat(J,"px, ").concat(U,"px, 0) scale3d(").concat(O,", ").concat(O,", ").concat(O,")")};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"img-wrap mx-auto",ref:a,style:{backgroundColor:F}},s.a.createElement("img",{onLoad:function(e){return function(e,t){var a=e.target;t([a.width,a.height])}(e,z)},className:D,src:t||v,style:M,alt:"Preview"}),s.a.createElement("div",{id:"pan-zone",ref:l})),s.a.createElement(f,{setBgColor:L}))}},50:function(e,t,a){"use strict";a.r(t);var n=a(47),c=a.n(n),l=a(8),r=a.n(l),i=a(0),s=a.n(i),o=a(136),u=a.n(o),f=(a(133),a(134)),m=1080;var g=[{value:"square",label:"1:1"},{value:"four-five",label:"4:5"}],h=0;function d(e,t){e.nativeEvent;var a=t.dzRef,n=t.setPreview,c=t.imgSize,l=t.scale;if(a.current){var r=a.current.getBoundingClientRect(),i=r.width,s=r.height,o=function(e){var t=e.imgSize,a=e.scale,n=e.viewport;if(!t||!t.length)return-1;var c=n.width;return a<1?Math.min(t[0],m):1===a?Math.min(Math.min(t[0],c)/a,m):Math.min(t[0]/a,m)}({imgSize:c,scale:l,viewport:r}),f=o/i,g=.5*(o-i),d=.5*(s*f-s),p=function(){u.a.toJpeg(a.current,{quality:.95,height:s*f,width:o,style:{transform:"translate3d(".concat(g,"px, ").concat(d,"px, 0) scale3d(").concat(f,", ").concat(f,", ").concat(f,")")}}).then(function(e){n(e)})};h||(p(),h++),setTimeout(p,100)}}t.default=function(){var e=Object(i.useState)(null),t=r()(e,2),a=t[0],n=t[1],l=Object(i.useState)(null),o=r()(l,2),u=o[0],m=o[1],h=Object(i.useState)(null),p=r()(h,2),v=p[0],b=p[1],E=Object(i.useRef)(null),A=Object(i.useState)(),w=r()(A,2),y=w[0],S=w[1],x="pt-5 px-3 border "+(u?"bg-light "+u:" text-secondary not-allowed"),N="py-5 px-3 "+(a?"":"text-secondary not-allowed"),O="py-5 px-3 "+(v?"":"text-secondary not-allowed"),j="btn "+(v?"btn-primary":"btn-light"),R="btn "+(v?"btn-success":"btn-light"),C=g.map(function(e){var t=e.label,a=e.value;return s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"mr-3",type:"radio",name:"canvas",value:a,id:a,onChange:function(e){return function(e,t){t(e.target.value)}(e,m)}}),s.a.createElement("label",{className:"input-group-text",htmlFor:a},t))});return s.a.createElement("div",null,s.a.createElement("section",{className:"py-5 px-3 "},s.a.createElement("h3",{className:"h4"},"1. Select the Canvas"),C),s.a.createElement("section",{className:x},s.a.createElement("h3",{className:"h4 m-0"}," 2. Select the Photo"),s.a.createElement("div",{class:"my-3 custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e,t){var a=e.target;a.files&&a.files[0]&&t(URL.createObjectURL(a.files[0]))}(e,n)}}),s.a.createElement("label",{class:"custom-file-label",htmlFor:"file"})),s.a.createElement(f.a,{dzRef:E,setDZProps:S,url:a})),s.a.createElement("section",{className:N},s.a.createElement("h3",{className:"h4"},"3."," ",s.a.createElement("button",{className:j,onClick:function(e){return d(e,c()({dzRef:E,setPreview:b,ratio:u},y))}},"Render"))),s.a.createElement("section",{className:O},s.a.createElement("h3",{className:"h4"},"4."," ",s.a.createElement("a",{role:"button",className:R,href:v,target:"_blank",download:"InstaFit-"+Date.now()},"Right Click to Save render image"))))}}}]);