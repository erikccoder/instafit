(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{134:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(47),l=a.n(r),i=a(0),s=a.n(i),o=a(135),u=a.n(o).a.sortBy(["#000000","#ffffff","#c600ff","#4fe3c1","#25d3ff","#f5c7c7","#c191e5","#4890e4","#e2013a"]),m=function(e){var t=e.setBgColor,a=u.map(function(e){return s.a.createElement("li",{className:"list-inline-item p-4 rounded",style:{backgroundColor:e},onClick:function(a){return t(e)}})});return s.a.createElement("ul",{className:"list-inline py-2 m-0"},a)},f={x:0,y:0},h=[0,0],g=[0,0],d=l()({},f),p=1;var v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==";t.a=function(e){var t=e.url,a=e.dzRef,n=e.setDZProps,r=Object(i.useRef)(null),o=Object(i.useState)(l()({},f)),u=c()(o,2),b=u[0],E=u[1],w=Object(i.useState)(l()({},f)),A=c()(w,2),y=A[0],x=A[1],S=Object(i.useState)(1),N=c()(S,2),O=N[0],j=N[1],R=Object(i.useState)([]),C=c()(R,2),k=C[0],z=C[1],B=Object(i.useState)("#ffffff"),P=c()(B,2),L=P[0],U=P[1];Object(i.useEffect)(function(){var e=l()({},f),t=1;if(r.current&&k.length){var a=r.current.getBoundingClientRect();h=[.5*a.width,.5*a.height],g=[.5*k[0],.5*k[1]];var n=[h[0]-g[0],h[1]-g[1]];e.x=n[0],e.y=n[1];var c=k[0]>a.width||k[1]>a.height,i=k[0]>=k[1];c&&(t=i?a.width/k[0]:a.height/k[1])}E(l()({},e)),x(l()({},f)),j(t),d=l()({},e),p=t},[t,k]),Object(i.useEffect)(function(){n({imgSize:k,scale:O,bgColor:L})},[k,O,b,t,r,L]),Object(i.useEffect)(function(){return function(e,t){var a=e.current,n=t.setPos,c=t.setOffset,r=t.setScale,i=t.setLog;if(a){console.log("initPan");var s=new Hammer(a);s.get("pinch").set({enable:!0}),s.on("pinch pinchend",function(e){var t=e.scale,a=(e.isFinal,e.type),n=p*t;"pinchend"===a?p=n:"pinch"===a&&r(n),i({LAST_SCALE:p,scale:t,s:n,type:a})}),s.on("pan",function(e){var t=e.deltaX,a=e.deltaY,r=e.isFinal;c({x:t,y:a}),r&&(d.x=t+d.x,d.y=a+d.y,n(l()({},d)),c(l()({},f)))})}}(r,{setPos:E,setOffset:x,setScale:j,setLog:console.log})},[r]);var F=y.x+b.x,D=y.y+b.y,J="img-preview "+(y.y||y.x?"dragging":""),M={transform:"translate3d(".concat(F,"px, ").concat(D,"px, 0) scale3d(").concat(O,", ").concat(O,", ").concat(O,")")};return s.a.createElement("div",{className:"dragZone mx-auto"},s.a.createElement("div",{className:"img-wrap",ref:a,style:{backgroundColor:L}},s.a.createElement("img",{onLoad:function(e){return function(e,t){var a=e.target;t([a.width,a.height])}(e,z)},className:J,src:t||v,style:M,alt:"Preview"}),s.a.createElement("div",{id:"pan-zone",ref:r})),s.a.createElement(m,{setBgColor:U}))}},50:function(e,t,a){"use strict";a.r(t);var n=a(47),c=a.n(n),r=a(4),l=a.n(r),i=a(0),s=a.n(i),o=a(136),u=a.n(o),m=(a(133),a(134)),f=1080;var h=[{value:"square",label:"1:1"},{value:"four-five",label:"4:5"}],g=0;function d(e,t){e.nativeEvent;var a=t.dzRef,n=t.setPreview,c=t.imgSize,r=t.scale;if(a.current){var l=a.current.getBoundingClientRect(),i=l.width,s=l.height,o=function(e){var t=e.imgSize,a=e.scale,n=e.viewport;if(!t||!t.length)return-1;var c=n.width;return a<1?Math.min(t[0],f):1===a?Math.min(Math.min(t[0],c)/a,f):Math.min(t[0]/a,f)}({imgSize:c,scale:r,viewport:l}),m=o/i,h=.5*(o-i),d=.5*(s*m-s),p=function(){u.a.toBlob(a.current,{quality:.95,height:s*m,width:o,style:{transform:"translate3d(".concat(h,"px, ").concat(d,"px, 0) scale3d(").concat(m,", ").concat(m,", ").concat(m,")")}}).then(function(e){var t=URL.createObjectURL(e);n(t)})};g||(p(),g++),setTimeout(p,100)}}t.default=function(){var e=Object(i.useState)(null),t=l()(e,2),a=t[0],n=t[1],r=Object(i.useState)(null),o=l()(r,2),u=o[0],f=o[1],g=Object(i.useState)(null),p=l()(g,2),v=p[0],b=p[1],E=Object(i.useRef)(null),w=Object(i.useState)(),A=l()(w,2),y=A[0],x=A[1],S="pt-5 px-3 border "+(u?"bg-light "+u:" text-secondary not-allowed"),N="py-5 px-3 "+(a?"":"text-secondary not-allowed"),O="py-5 px-3  border "+(v?"":"text-secondary not-allowed"),j="btn "+(a?"btn-primary text-white":"btn-light"),R="btn "+(v?"btn-primary text-white":"btn-light");Object(i.useEffect)(function(e){return b(null)},[y,u]);var C=h.map(function(e){var t=e.label,a=e.value;return s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"mr-3",type:"radio",name:"canvas",value:a,id:a,onChange:function(e){return function(e,t){t(e.target.value)}(e,f)}}),s.a.createElement("label",{className:"input-group-text",htmlFor:a},t))});return s.a.createElement("div",null,s.a.createElement("section",{className:"py-5 px-3 "},s.a.createElement("h3",{className:"h4 m-0"},"1. Select the Canvas"),C),s.a.createElement("section",{className:S},s.a.createElement("h3",{className:"h4 m-0 m-0"}," 2. Select the Photo"),s.a.createElement("div",{class:"my-3 custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"file",accept:"image/png, image/jpeg",onChange:function(e){return function(e,t){var a=e.target;a.files&&a.files[0]&&t(URL.createObjectURL(a.files[0]))}(e,n)}}),s.a.createElement("label",{class:"custom-file-label",htmlFor:"file"})),s.a.createElement(m.a,{dzRef:E,setDZProps:x,url:a})),s.a.createElement("section",{className:N},s.a.createElement("h3",{className:"h4 m-0"},"3."," ",s.a.createElement("a",{className:j,onClick:function(e){return d(e,c()({dzRef:E,setPreview:b,ratio:u},y))}},"Render"))),s.a.createElement("section",{className:O},s.a.createElement("h3",{className:"h4 m-0"},"4."," ",s.a.createElement("a",{role:"button",className:R,href:v,target:"_blank",download:"InstaFit-"+Date.now()},"Right Click to Save the rendered image"),s.a.createElement("img",{className:"w-100 mt-3",src:v,alt:""}))))}}}]);